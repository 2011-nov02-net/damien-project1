@model IEnumerable<ArkhenManufacturing.WebApp.Models.ProductViewModel>

<p>
  <a asp-action="Create">Create New</a>
</p>
<table class="table">
  <thead>
    <tr>
      <th>
        @Html.DisplayNameFor(model => model.ProductName)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Count)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Threshold)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Price)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Discount)
      </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    @foreach (var item in Model) {
      <tr>
        <td>
          @Html.DisplayFor(modelItem => item.ProductName)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Count)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Threshold)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Discount)
        </td>
        <td>
          @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
          @if ((TempData.Peek("IsAdmin") as bool?).Value) {
            // Show this only if the current user is an admin
            Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ });@:|
            Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ });
          }
        </td>
      </tr>
    }
  </tbody>
</table>
